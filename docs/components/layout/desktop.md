# Ê°åÈù¢

Âü∫‰∫é react-sortablejs Â∞ÅË£ÖÂÆûÁé∞ÁöÑÊ°åÈù¢ÁªÑ‰ª∂

## ‰æùËµñ

```json
{
  "uuid": "^10.0.0",
  "ahooks": "^3.8.0",
  "@emotion/css": "^11.13.0",
  "react-sortablejs": "^6.1.4",
  "sortablejs": "^1.15.2",
  "framer-motion": "^11.3.19",
  "react-json-view": "^1.21.3",
  "react-modal-sheet": "^3.1.0",
  "rc-dialog": "^9.0.4",
  "react-slick": "^0.30.2",
  "slick-carousel": "^1.8.1"
}
```

## ÂäüËÉΩ

- ÊéíÂ∫è
- Êñá‰ª∂Â§π
- Ëá™ÂÆö‰πâËøΩÂä†ÂÖÉÁ¥†
- ÂàÜÈ°µÊîØÊåÅ
- Êú¨Âú∞Â≠òÂÇ®
- ‰∏ªÈ¢òÂÆöÂà∂
- Âè≥ÈîÆËèúÂçï
- Dock Ê†è

## Âü∫Êú¨Áî®Ê≥ï

```jsx
import { Desktop, desktopThemeLight, desktopThemeDark } from "zs_library";
import { useState } from "react";

export default () => {
  const [currentTheme, setCurrentTheme] = useState("light");

  // Ëá™ÂÆö‰πâ‰∏ªÈ¢òÁ§∫‰æã
  const customTheme = {
    token: {
      itemNameColor: "#ff6b6b",
      itemIconBackgroundColor: "#4ecdc4",
      itemIconShadowColor: "rgba(255, 107, 107, 0.3)",
      groupItemIconBackgroundColor: "rgba(78, 205, 196, 0.2)",
      groupItemIconShadowColor: "rgba(255, 107, 107, 0.2)",
      groupItemModalBackgroundColor: "rgba(78, 205, 196, 0.9)",
      contextMenuTextColor: "#2c3e50",
      contextMenuActiveColor: "#ecf0f1",
      contextMenuBackgroundColor: "#ffffff",
      contextMenuShadowColor: "rgba(255, 107, 107, 0.2)",
    },
  };

  const themes = {
    light: desktopThemeLight,
    dark: desktopThemeDark,
    custom: customTheme,
  };
  const themeConfigs = {
    light: { name: "ÊµÖËâ≤", icon: "‚òÄÔ∏è", background: "linear-gradient(135deg, #667eea 0%, #764ba2 100%)" },
    dark: { name: "Ê∑±Ëâ≤", icon: "üåô", background: "linear-gradient(135deg, #2d3748 0%, #1a202c 100%)" },
    custom: {
      name: "Ëá™ÂÆö‰πâ",
      icon: "üé®",
      background: "linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%)",
    },
  };

  const theme = themes[currentTheme];
  const config = themeConfigs[currentTheme];

  const list = [
    {
      id: "123",
      data: {
        name: "Â∏∏Áî®",
      },
      children: [
        {
          id: 1,
          type: "group",
          data: {
            name: "Â∏∏Áî®ËΩØ‰ª∂",
          },
          config: {
            col: 2,
          },
          children: [
            {
              id: "app1",
              type: "app",
              data: {
                name: "Chrome",
                icon: "https://placehold.co/100x100/4285F4/FFFFFF?text=Chrome",
              },
            },
            {
              id: "app2",
              type: "app",
              data: {
                name: "VS Code",
                icon: "https://placehold.co/100x100/007ACC/FFFFFF?text=VSCode",
              },
            },
            {
              id: "app3",
              type: "app",
              data: {
                name: "Photoshop",
                icon: "https://placehold.co/100x100/31A8FF/FFFFFF?text=PS",
              },
            },
            {
              id: "app4",
              type: "app",
              data: {
                name: "Figma",
                icon: "https://placehold.co/100x100/F24E1E/FFFFFF?text=Figma",
              },
            },
          ],
        },
        {
          id: 2,
          type: "app",
          data: {
            name: "ÂæÆ‰ø°",
            icon: "https://placehold.co/100x100/07C160/FFFFFF?text=WeChat",
          },
        },
        {
          id: 3,
          type: "app",
          data: {
            name: "ÊîØ‰ªòÂÆù",
            icon: "https://placehold.co/100x100/1677FF/FFFFFF?text=Alipay",
          },
        },
      ],
    },
    {
      id: "12313eqw",
      data: {
        name: "ÂºÄÂèë",
      },
      children: [
        {
          id: 90,
          type: "app",
          data: {
            name: "GitHub",
            icon: "https://placehold.co/100x100/181717/FFFFFF?text=GitHub",
          },
        },
        {
          id: 91,
          type: "app",
          data: {
            name: "Docker",
            icon: "https://placehold.co/100x100/2496ED/FFFFFF?text=Docker",
          },
        },
      ],
    },
    {
      id: "1239137sdcsdc",
      dataType: "dock",
      children: [
        {
          id: 93,
          type: "app",
          data: {
            name: "Êñ∞Èóª",
            icon: "https://placehold.co/100x100/E60012/FFFFFF?text=News",
          },
        },
        {
          id: 94,
          type: "app",
          data: {
            name: "Èü≥‰πê",
            icon: "https://placehold.co/100x100/FF1493/FFFFFF?text=Music",
          },
        },
      ],
    },
  ];

  return (
    <div
      style={{
        background: config.background,
        height: "500px",
        padding: "20px",
        position: "relative",
      }}
    >
      {/* ‰∏ªÈ¢òÂàáÊç¢ÊåâÈíÆ */}
      <div
        style={{
          position: "absolute",
          top: "10px",
          right: "10px",
          display: "flex",
          gap: "8px",
          zIndex: 1000,
        }}
      >
        {Object.keys(themes).map((themeKey) => {
          const isActive = currentTheme === themeKey;
          const btnConfig = themeConfigs[themeKey];

          return (
            <button
              key={themeKey}
              onClick={() => setCurrentTheme(themeKey)}
              style={{
                padding: "8px 16px",
                backgroundColor: isActive ? "#4a5568" : "#ffffff",
                color: isActive ? "#ffffff" : "#000000",
                border: `2px solid ${isActive ? "#4a5568" : "#e2e8f0"}`,
                borderRadius: "6px",
                cursor: "pointer",
                fontSize: "14px",
                fontWeight: isActive ? "bold" : "normal",
                boxShadow: "0 2px 4px rgba(0,0,0,0.1)",
                transition: "all 0.2s ease",
              }}
              onMouseEnter={(e) => {
                if (!isActive) {
                  e.target.style.backgroundColor = "#f7fafc";
                  e.target.style.borderColor = "#cbd5e0";
                }
                e.target.style.transform = "translateY(-1px)";
                e.target.style.boxShadow = "0 4px 8px rgba(0,0,0,0.15)";
              }}
              onMouseLeave={(e) => {
                if (!isActive) {
                  e.target.style.backgroundColor = "#ffffff";
                  e.target.style.borderColor = "#e2e8f0";
                }
                e.target.style.transform = "translateY(0)";
                e.target.style.boxShadow = "0 2px 4px rgba(0,0,0,0.1)";
              }}
            >
              {btnConfig.icon} {btnConfig.name}
            </button>
          );
        })}
      </div>

      <Desktop list={list} theme={theme} enableCaching={false} />
    </div>
  );
};
```

## API

### Desktop Props

| ÂèÇÊï∞              | ËØ¥Êòé                     | Á±ªÂûã                                                                           | ÈªòËÆ§ÂÄº                                                       |
| ----------------- | ------------------------ | ------------------------------------------------------------------------------ | ------------------------------------------------------------ |
| list              | Ê°åÈù¢È°πÁõÆÂàóË°®Êï∞ÊçÆ         | `SortItem[]`                                                                   | `[]`                                                         |
| onChange          | ÂàóË°®Êï∞ÊçÆÂèòÊõ¥ÂõûË∞É         | `(list: SortItem[]) => void`                                                   | -                                                            |
| onItemClick       | È°πÁõÆÁÇπÂáª‰∫ã‰ª∂             | `(item: SortItem) => void`                                                     | -                                                            |
| className         | Ëá™ÂÆö‰πâÊ†∑ÂºèÁ±ªÂêç           | `string`                                                                       | -                                                            |
| enableCaching     | ÊòØÂê¶ÂêØÁî®Êú¨Âú∞Â≠òÂÇ®ÁºìÂ≠ò     | `boolean`                                                                      | `true`                                                       |
| storageKey        | Êú¨Âú∞Â≠òÂÇ®ÁöÑÈîÆÂêç           | `string`                                                                       | `'ZS_LIBRARY_DESKTOP_SORTABLE_CONFIG'`                       |
| noLetters         | ÊòØÂê¶ÈöêËóèÊñáÂ≠óÔºàÊó†Â≠óÊ®°ÂºèÔºâ | `boolean`                                                                      | `false`                                                      |
| theme             | ‰∏ªÈ¢òÈÖçÁΩÆ                 | `'light' \| 'dark' \| Theme`                                                   | `'light'`                                                    |
| typeConfigMap     | Á±ªÂûãÈÖçÁΩÆÊò†Â∞ÑË°®           | `TypeConfigMap`                                                                | -                                                            |
| contextMenu       | Âè≥ÈîÆËèúÂçïÈÖçÁΩÆ             | `ContextMenuProps \| ((data: SortItem) => ContextMenuProps \| false) \| false` | -                                                            |
| pagination        | ÂàÜÈ°µÈÖçÁΩÆ                 | `Pagination \| false`                                                          | `{ position: 'bottom' }`                                     |
| dock              | Dock Ê†èÈÖçÁΩÆ              | `DockConfig`                                                                   | `{ enabled: true, position: 'bottom', showLaunchpad: true }` |
| extraItems        | Ëá™ÂÆö‰πâÈ¢ùÂ§ñÈ°πÁõÆÊ∏≤Êüì       | `(listItem: SortItem) => React.ReactNode`                                      | -                                                            |
| itemBuilder       | Ëá™ÂÆö‰πâÈ°πÁõÆÊ∏≤Êüì           | `(item: SortItem) => React.ReactNode`                                          | -                                                            |
| itemIconBuilder   | Ëá™ÂÆö‰πâÈ°πÁõÆÂõæÊ†áÊ∏≤Êüì       | `(item: SortItem) => React.ReactNode`                                          | -                                                            |
| pagingDotBuilder  | Ëá™ÂÆö‰πâÂàÜÈ°µÁÇπÊ∏≤Êüì         | `(item: SortItem, index: number, isActive: boolean) => React.JSX.Element`      | -                                                            |
| pagingDotsBuilder | Ëá™ÂÆö‰πâÂàÜÈ°µÁÇπÂÆπÂô®Ê∏≤Êüì     | `(dots: React.ReactNode) => React.JSX.Element`                                 | -                                                            |
| sliderProps       | Slider ÁªÑ‰ª∂ÈÖçÁΩÆ          | `Settings`                                                                     | -                                                            |

### SortItem Êï∞ÊçÆÁªìÊûÑ

```typescript
interface SortItem<D = any, C = any> {
  /** ÂîØ‰∏ÄÊ†áËØÜÁ¨¶ */
  id: string | number;
  /** È°πÁõÆÁ±ªÂûãÔºåÊîØÊåÅÂÜÖÁΩÆÁ±ªÂûãÔºàapp„ÄÅgroupÔºâÂíåËá™ÂÆö‰πâÁ±ªÂûã */
  type: string;
  /** È°πÁõÆÊï∞ÊçÆ */
  data?: D & {
    name: string;
    icon?: string;
  };
  /** È°πÁõÆÈÖçÁΩÆ */
  config?: C & {
    /** Â∞∫ÂØ∏ÈÖçÁΩÆID */
    sizeId?: string;
    /** ÂàóÊï∞ */
    col?: number;
    /** Ë°åÊï∞ */
    row?: number;
  };
  /** Â≠êÈ°πÁõÆÂàóË°® */
  children?: SortItem[];
  /** Êï∞ÊçÆÁ±ªÂûãÔºöpageË°®Á§∫ÂàÜÈ°µÊï∞ÊçÆÔºådockË°®Á§∫dockÊï∞ÊçÆ */
  dataType?: "page" | "dock";
}
```

### Pagination ÂàÜÈ°µÈÖçÁΩÆ

```typescript
interface Pagination {
  /** ÂàÜÈ°µ‰ΩçÁΩÆ */
  position?: "top" | "bottom" | "left" | "right";
}
```

### DockConfig Dock ÈÖçÁΩÆ

```typescript
interface DockConfig {
  /** ÊòØÂê¶ÂêØÁî® Dock */
  enabled?: boolean;
  /** Dock ‰ΩçÁΩÆ */
  position?: "top" | "bottom" | "left" | "right";
  /** Ëá™ÂÆö‰πâÊ†∑ÂºèÁ±ªÂêç */
  className?: string;
  /** Ëá™ÂÆö‰πâ Dock È°πÁõÆÊ∏≤Êüì */
  itemBuilder?: (item: SortItem, index: number) => React.ReactNode;
  /** ÊòØÂê¶ÊòæÁ§∫ÂêØÂä®Âè∞ÊåâÈíÆ */
  showLaunchpad?: boolean;
}
```

### Theme ‰∏ªÈ¢òÈÖçÁΩÆ

```typescript
interface Theme {
  token: {
    /** È°πÁõÆÂêçÁß∞È¢úËâ≤ */
    itemNameColor?: string;
    /** È°πÁõÆÂõæÊ†áËÉåÊôØÈ¢úËâ≤ */
    itemIconBackgroundColor?: string;
    /** È°πÁõÆÂõæÊ†áÈò¥ÂΩ±È¢úËâ≤ */
    itemIconShadowColor?: string;
    /** ÂàÜÁªÑÈ°πÁõÆÂõæÊ†áËÉåÊôØÈ¢úËâ≤ */
    groupItemIconBackgroundColor?: string;
    /** ÂàÜÁªÑÈ°πÁõÆÂõæÊ†áÈò¥ÂΩ±È¢úËâ≤ */
    groupItemIconShadowColor?: string;
    /** ÂàÜÁªÑÈ°πÁõÆÊ®°ÊÄÅÊ°ÜËÉåÊôØÈ¢úËâ≤ */
    groupItemModalBackgroundColor?: string;
    /** Âè≥ÈîÆËèúÂçïÊñáÂ≠óÈ¢úËâ≤ */
    contextMenuTextColor?: string;
    /** Âè≥ÈîÆËèúÂçïÊøÄÊ¥ªÈ¢úËâ≤ */
    contextMenuActiveColor?: string;
    /** Âè≥ÈîÆËèúÂçïËÉåÊôØÈ¢úËâ≤ */
    contextMenuBackgroundColor?: string;
    /** Âè≥ÈîÆËèúÂçïÈò¥ÂΩ±È¢úËâ≤ */
    contextMenuShadowColor?: string;
  };
}
```

#### ÂÜÖÁΩÆ‰∏ªÈ¢ò

```typescript
import {
  desktopThemeLight,
  desktopThemeDark,
  desktopDefaultTheme,
  desktopThemes
} from 'zs-library';

// ‰ΩøÁî®ÂÜÖÁΩÆÊµÖËâ≤‰∏ªÈ¢ò
<Desktop theme="light" />
// Êàñ
<Desktop theme={desktopThemeLight} />

// ‰ΩøÁî®ÂÜÖÁΩÆÊ∑±Ëâ≤‰∏ªÈ¢ò
<Desktop theme="dark" />
// Êàñ
<Desktop theme={desktopThemeDark} />

// ‰ΩøÁî®ÈªòËÆ§‰∏ªÈ¢òÔºàÊµÖËâ≤Ôºâ
<Desktop theme={desktopDefaultTheme} />

// Ëá™ÂÆö‰πâ‰∏ªÈ¢ò
const customTheme = {
  token: {
    itemNameColor: '#ff6b6b',
    itemIconBackgroundColor: '#4ecdc4',
    // ... ÂÖ∂‰ªñÈÖçÁΩÆ
  }
};
<Desktop theme={customTheme} />
```

### TypeConfigMap Á±ªÂûãÈÖçÁΩÆ

```typescript
type TypeConfigMap = Record<
  string,
  {
    /** ÂèØÁî®ÁöÑÂ∞∫ÂØ∏ÈÖçÁΩÆÂàóË°® */
    sizeConfigs: SizeConfig[];
    /** ÈªòËÆ§Â∞∫ÂØ∏ÈÖçÁΩÆID */
    defaultSizeId: string;
    /** ÂÖÅËÆ∏ËÆæÁΩÆÂ§ßÂ∞è */
    allowResize: boolean;
    /** ÂÖÅËÆ∏ÊâìÂºÄÂè≥ÈîÆËèúÂçï */
    allowContextMenu: boolean;
    /** ÂÖÅËÆ∏ÊòæÁ§∫ÂàÜ‰∫´ÊåâÈíÆ */
    allowShare: boolean;
    /** ÂÖÅËÆ∏ÊòæÁ§∫Âà†Èô§ÊåâÈíÆ */
    allowDelete: boolean;
    /** ÂÖÅËÆ∏ÊòæÁ§∫‰ø°ÊÅØÊåâÈíÆ */
    allowInfo: boolean;
  }
>;
```

### DesktopHandle ÂÆû‰æãÊñπÊ≥ï

ÈÄöËøá ref ÂèØ‰ª•Ëé∑ÂèñÂà∞Ê°åÈù¢ÁªÑ‰ª∂ÁöÑÂÆû‰æãÊñπÊ≥ïÔºö

```typescript
interface DesktopHandle {
  state: SortableState;
  config: SortableConfig;
}
```

‰ΩøÁî®Á§∫‰æãÔºö

```jsx pure
const desktopRef = useRef();

<Desktop ref={desktopRef} list={list} />;

// ËÆøÈóÆÂÆû‰æã
const { state, config } = desktopRef.current;
```
